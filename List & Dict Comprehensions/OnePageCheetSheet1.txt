ğŸ§¾ ONE-PAGE CHEAT SHEET â€” Python Comprehensions

ğŸ‘‰ Interview-friendly
ğŸ‘‰ Pin this near your desk

ğŸ”¹ List Comprehension
[expression for item in iterable]
[expression for item in iterable if condition]
[expr_if_true if condition else expr_if_false for item in iterable]

Examples
[x * 2 for x in nums]
[x for x in nums if x > 0]
["even" if x % 2 == 0 else "odd" for x in nums]

ğŸ”¹ Dict Comprehension
{key: value for item in iterable}
{key: value for k, v in dict.items() if condition}

Examples
{x: x**2 for x in range(5)}
{k.lower(): v for k, v in data.items()}

ğŸ”¹ Set Comprehension
{expression for item in iterable}

{n for n in nums if n % 2 == 0}

ğŸ”¹ Generator Comprehension
(expression for item in iterable)

(x * 2 for x in huge_dataset)


âœ” Lazy
âœ” Memory efficient

ğŸ”¥ Tricky Rules (Interview Gold)

âœ… ifâ€“else comes before for
âŒ else cannot appear after filter

# Correct
[x if x > 0 else 0 for x in nums]

âš ï¸ Late Binding Trap
# Problem
[lambda: i for i in range(3)]  # â†’ [2,2,2]

# Fix
[lambda i=i: i for i in range(3)]

âš ï¸ Dict Key Overwrite
{x: len(x) for x in ["a", "bb", "cc"]}
# Duplicate keys overwrite silently

ğŸš« When NOT to Use Comprehensions

âŒ Side effects
âŒ Complex branching
âŒ Poor readability

Rule: If you need to explain it â†’ use a loop

ğŸ§  Performance Rule

âœ… Comprehension > map() / filter()

âœ… Generator for large data

âŒ Donâ€™t optimize prematurely